stages:
  - validate

variables:
  GIT_DEPTH: 1

validate-plugin:
  stage: validate
  image: python:3.11-slim
  script:
    - echo "Validating Claude Code Plugin..."
    - ./scripts/validate-plugin.sh
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
    - if: $CI_COMMIT_BRANCH == "main"
    - if: $CI_COMMIT_TAG
  tags:
    - rd2_group_runner_docker
